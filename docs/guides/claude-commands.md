# Claude Commands

How Claude Code integrates with this project through slash commands and configuration.

## What is `.claude/`?

The `.claude/` directory contains configuration and commands for [Claude Code](https://docs.anthropic.com/en/docs/claude-code), Anthropic's CLI tool for AI-assisted development.

### `settings.json`

Project-level Claude Code settings:

```json
{
  "includeCoAuthoredBy": false
}
```

### `commands/`

Slash commands that Claude Code recognizes. Each `.md` file defines a command with structured steps and guardrails.

## Command Reference

### Documentation Commands

| Command | Description | Output |
|---------|-------------|--------|
| `/docs:concept` | Explore a research idea or hypothesis | `docs/concepts/<name>.md` |
| `/docs:reference` | Capture knowledge from papers or articles | `docs/references/<type>/<name>.md` |
| `/docs:vendor` | Document an external tool or dataset | `docs/vendor/<name>.md` |

### Experiment Commands

| Command | Description | Output |
|---------|-------------|--------|
| `/experiment:proposal` | Propose a new experiment | `user/<name>/experiments/NNN-name/` |
| `/experiment:result` | Record experiment results | `user/<name>/experiments/NNN-name/results.md` |
| `/experiment:validate` | Validate experiment structure | Validation report |

### OpenSpec Commands (OPSX)

OpenSpec commands are generated by `openspec init`. The OPSX workflow provides:

| Command | Description | Output |
|---------|-------------|--------|
| `/opsx:explore` | Investigate ideas before committing | Notes / analysis |
| `/opsx:new` | Create a new change proposal | `openspec/changes/<name>/` |
| `/opsx:continue` | Build next artifact incrementally | Single artifact |
| `/opsx:ff` | Fast-forward all planning artifacts | All planning docs |
| `/opsx:apply` | Implement approved tasks | Code changes |
| `/opsx:verify` | Validate implementation quality | Verification report |
| `/opsx:archive` | Archive a completed change | `openspec/changes/archive/` |

Run `openspec init` to generate these commands in `.claude/commands/openspec/`.

## How Commands Map to Templates

Commands use templates from `docs/_templates/` to ensure consistent document structure:

```
/docs:concept     → docs/_templates/concept.md
/docs:reference   → docs/_templates/reference.md
/experiment:proposal → docs/_templates/experiment-proposal.md
                     + docs/_templates/experiment-tasks.md
                     + docs/_templates/experiment-design.md (optional)
/experiment:result   → docs/_templates/experiment-result.md
```

## The Research Workflow

Commands support a structured research workflow:

```
/docs:reference → /docs:concept → /experiment:proposal → /experiment:result
      ↓                ↓                  ↓                     ↓
  Capture          Develop          Test hypothesis        Document
  knowledge        ideas            with rigor             findings
```

1. **Capture** external knowledge with `/docs:reference`
2. **Develop** ideas into concepts with `/docs:concept`
3. **Test** hypotheses with `/experiment:proposal`
4. **Validate** structure with `/experiment:validate`
5. **Record** results with `/experiment:result`
6. **Implement** successful ideas with `/opsx:new` → `/opsx:apply`

## Creating Custom Commands

To add a new slash command:

1. Create a `.md` file in `.claude/commands/<category>/`
2. Add YAML frontmatter with `name`, `description`, `category`, `tags`
3. Write `**Purpose**`, `**Guardrails**`, and `**Steps**` sections
4. The command becomes available as `/<category>:<filename>`

Example:

```markdown
---
name: My Command
description: What this command does.
category: Custom
tags: [custom]
---

**Purpose**
[What this command accomplishes]

**Steps**
1. [Step 1]
2. [Step 2]
```
